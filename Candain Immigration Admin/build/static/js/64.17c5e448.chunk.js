"use strict";(self.webpackChunkhyper_react=self.webpackChunkhyper_react||[]).push([[64],{4476:(e,s,a)=>{a.d(s,{A:()=>n});var i=a(5043),l=a(5475),t=a(579);const n=e=>{let{pageIndex:s,pageSize:a,totalPages:n,setPageIndex:d,onChangePageSize:c}=e;return(0,i.useEffect)(()=>{s>n&&d(Math.max(1,n))},[s,n,d]),(0,t.jsxs)("div",{className:"d-lg-flex align-items-center text-center pb-1 pt-2",children:[(0,t.jsxs)("div",{className:"d-inline-block me-3",children:[(0,t.jsx)("label",{className:"me-1",children:"Display :"}),(0,t.jsx)("select",{value:a,onChange:e=>{const s=Number(e.target.value);c(s),d(1)},className:"form-select d-inline-block w-auto",children:[10,20,50,100].map(e=>(0,t.jsx)("option",{value:e,children:e},e))})]}),(0,t.jsxs)("span",{className:"me-3",children:["Page"," ",(0,t.jsxs)("strong",{children:[s," of ",n]})]}),(0,t.jsx)("label",{children:"Go to page: "}),(0,t.jsx)("input",{type:"number",placeholder:"".concat(s),min:"1",max:n,onChange:e=>{const s=Number(e.target.value);s>=1&&s<=n&&d(s)},className:"form-control ms-1 d-inline-block",style:{width:"80px"}}),(0,t.jsxs)("ul",{className:"pagination pagination-rounded d-inline-flex ms-auto align-item-center mb-0 pe-4",children:[s>1&&(0,t.jsx)("li",{className:"page-item",onClick:()=>d(s-1),children:(0,t.jsx)(l.N_,{to:"#",className:"page-link",children:"Previous"})}),Array.from({length:n}).map((e,a)=>{const i=a+1,c=i===s;return n<=5||i>=s-1&&i<=s+1||(1===i||i===n)?(0,t.jsx)("li",{className:"page-item ".concat(c?"active":""),onClick:()=>d(i),children:(0,t.jsx)(l.N_,{to:"#",className:"page-link",children:i})},i):2===i&&s>=5||i===n-1&&s<=n-4?(0,t.jsx)("li",{className:"page-item disabled",children:(0,t.jsx)(l.N_,{to:"#",className:"page-link px-0",children:"..."})},i):null}),s<n&&(0,t.jsx)("li",{className:"page-item",onClick:()=>d(s+1),children:(0,t.jsx)(l.N_,{to:"#",className:"page-link",children:"Next"})})]})]})}},5009:(e,s,a)=>{a.d(s,{A:()=>d});a(5043);var i=a(9397),l=a(8602),t=a(1072),n=a(579);const d=e=>(0,n.jsx)(t.A,{children:(0,n.jsx)(l.A,{children:(0,n.jsxs)("div",{className:"page-title-box",children:[(0,n.jsx)("div",{className:"page-title-right",children:(0,n.jsx)(i.A,{listProps:{className:"m-0"},children:e.breadCrumbItems.map((e,s)=>e.active?(0,n.jsx)(i.A.Item,{active:!0,children:(0,n.jsx)("span",{className:"custom-color",children:e.label})},s):(0,n.jsx)(i.A.Item,{href:e.path,children:(0,n.jsx)("span",{className:"custom-color",children:e.label})},s))})}),(0,n.jsx)("h4",{className:"page-title custom-color",children:e.title})]})})})},6537:(e,s,a)=>{a.d(s,{A:()=>c});var i=a(5043),l=a(4282),t=a(9869),n=a(615),d=a(579);const c=e=>{let{onClick:s,icon:a="mdi-plus",tooltip:c="Add New"}=e;const[o,r]=(0,i.useState)(!1);return(0,d.jsx)(t.A,{placement:"left",overlay:(0,d.jsx)(n.A,{children:c}),children:(0,d.jsx)(l.A,{className:"fab animate-bounce",onClick:s,onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),style:{position:"fixed",bottom:"20px",right:"20px",width:"56px",height:"56px",borderRadius:"50%",border:"none",zIndex:1e3,transform:o?"scale(1.1)":"scale(1)",transition:"all 0.3s ease"},children:(0,d.jsx)("i",{className:"mdi ".concat(a," ").concat(o?"icon-spin":""),style:{fontSize:"1.5rem"}})})})}},7064:(e,s,a)=>{a.r(s),a.d(s,{default:()=>y});var i=a(9379),l=a(5043),t=a(1072),n=a(8602),d=a(8258),c=a(4282),o=a(4196),r=a(4556),m=a(5009),u=a(4342),x=a(1449),h=a(4476),p=a(6798),v=a(6522),j=a(2823),g=a.n(j),N=(a(5884),a(6518)),b=a(579);const f=e=>{var s,a,t,n,d,o,m;let{show:h,hide:j,notificationData:f,setApiCall:A}=e;const y=(0,r.wA)(),C=(0,r.d4)(e=>e),k=(null===C||void 0===C||null===(s=C.createNotificationDataReducer)||void 0===s?void 0:s.loading)||(null===C||void 0===C||null===(a=C.updateNotificationDataReducer)||void 0===a?void 0:a.loading),w=null===C||void 0===C||null===(t=C.createNotificationDataReducer)||void 0===t||null===(n=t.notificationData)||void 0===n?void 0:n.status,S=null===C||void 0===C||null===(d=C.updateNotificationDataReducer)||void 0===d||null===(o=d.notificationData)||void 0===o?void 0:o.status,[I,R]=(0,l.useState)({type:"",message:"",status:!0}),E=()=>{R({type:"",message:""}),j()};(0,l.useEffect)(()=>{var e,s,a,i;null!==f&&void 0!==f&&f.data&&R({type:(null===f||void 0===f||null===(e=f.data)||void 0===e?void 0:e.type)||"",message:(null===f||void 0===f||null===(s=f.data)||void 0===s?void 0:s.message)||"",status:null!==(a=null===f||void 0===f||null===(i=f.data)||void 0===i?void 0:i.status)&&void 0!==a&&a})},[null===f||void 0===f?void 0:f.data]);(0,l.useEffect)(()=>{k||200!==w&&200!==S||(A(),E())},[w,S,k,y]);const _=(0,b.jsx)("span",{className:"text-danger fs-4",children:"*"});return(0,b.jsxs)(p.A,{show:h,onHide:E,centered:!0,size:"lg",className:"modal-animate",children:[(0,b.jsx)(p.A.Header,{className:"px-2 py-1 text-light",style:{backgroundColor:"#006AAB"},children:(0,b.jsxs)(p.A.Title,{children:[null===f||void 0===f?void 0:f.type," Notification"]})}),(0,b.jsx)(p.A.Body,{children:(0,b.jsxs)(v.A,{children:[(0,b.jsxs)(v.A.Group,{className:"mb-3",children:[(0,b.jsxs)(v.A.Label,{children:["Type ",_]}),(0,b.jsxs)(v.A.Select,{name:"type",value:I.type,onChange:e=>R((0,i.A)((0,i.A)({},I),{},{type:e.target.value})),children:[(0,b.jsx)("option",{value:"",selected:!0,disabled:!0,children:"Select"}),(0,b.jsx)("option",{value:"buyer",children:"Buyer"}),(0,b.jsx)("option",{value:"seller",children:"Seller"}),(0,b.jsx)("option",{value:"both",children:"Both"})]})]}),(0,b.jsxs)(v.A.Group,{className:"mb-3",children:[(0,b.jsxs)(v.A.Label,{children:["Message ",_]}),(0,b.jsx)(g(),{value:I.message,onChange:e=>{R(s=>(0,i.A)((0,i.A)({},s),{},{message:e}))},theme:"snow",modules:{toolbar:[["bold","italic","underline"],["link"],["clean"]]},placeholder:"Enter message (minimum 5 characters)..."})]}),(null===f||void 0===f?void 0:f.data)&&(0,b.jsxs)(v.A.Group,{className:"mb-3",children:[(0,b.jsx)(v.A.Label,{children:"Status"}),(0,b.jsxs)(v.A.Select,{name:"status",value:null===f||void 0===f||null===(m=f.data)||void 0===m?void 0:m.status,onChange:e=>{const{name:s,value:a}=e.target;R(e=>(0,i.A)((0,i.A)({},e),{},{[s]:a}))},children:[(0,b.jsx)("option",{value:"true",children:"Active"}),(0,b.jsx)("option",{value:"false",children:"Inactive"})]})]})]})}),(0,b.jsxs)(p.A.Footer,{className:"px-2 py-1",children:[(0,b.jsxs)(c.A,{variant:"danger",className:"btn-cancel",onClick:E,children:[(0,b.jsx)("i",{className:"mdi mdi-close"}),"Cancel"]}),(0,b.jsx)(c.A,{className:"btn-animated hover-glow",style:{backgroundColor:"#006AAB"},onClick:()=>{var e,s;if(!I.type)return void(0,N.A)("Please select a notification type.","info");if(!I.message.trim()||I.message.replace(/<[^>]*>/g,"").length<5)return void(0,N.A)("Message must be at least 5 characters long.","info");const a={_id:null===f||void 0===f||null===(e=f.data)||void 0===e?void 0:e._id,type:null===I||void 0===I?void 0:I.type,message:null===I||void 0===I?void 0:I.message,status:null===I||void 0===I?void 0:I.status};null!==f&&void 0!==f&&null!==(s=f.data)&&void 0!==s&&s._id?y((0,x.er)(a)):y((0,x.FG)(I))},disabled:k,children:k?(0,b.jsx)(u.N7,{}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("i",{className:"mdi ".concat("Edit"===(null===f||void 0===f?void 0:f.type)?"mdi-content-save":"mdi-plus"," me-1")}),"Edit"===(null===f||void 0===f?void 0:f.type)?"Update":"Add"," Notification"]})})]})]})};var A=a(6537);const y=()=>{var e,s;const a=(0,r.wA)(),{getNotificationByAdminReducer:p}=(0,r.d4)(e=>e),v=(null===p||void 0===p||null===(e=p.notificationData)||void 0===e?void 0:e.data)||[],j=(null===p||void 0===p||null===(s=p.notificationData)||void 0===s?void 0:s.totalRecords)||0,g=null===p||void 0===p?void 0:p.loading,[N,y]=(0,l.useState)(""),[C,k]=(0,l.useState)(1),[w,S]=(0,l.useState)(20),[I,R]=(0,l.useState)(1),[E,_]=(0,l.useState)({type:"",data:null,isVisible:!1});(0,l.useEffect)(()=>{R(Math.ceil(j/w))},[j,w]);const[D,M]=(0,l.useState)(!1);(0,l.useEffect)(()=>{R(Math.ceil(j/w))},[j,w]);const B=(0,l.useCallback)(()=>{const e={search:encodeURIComponent(N),limit:w,page:C};a((0,x.Hk)(e))},[N,w,C,a]);(0,l.useEffect)(()=>{const e=setTimeout(()=>{B()},300);return()=>clearTimeout(e)},[B]),(0,l.useEffect)(()=>{D&&(B(),M(!1))},[D,B]);const z=function(e){_({type:e,data:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,isVisible:!0})};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(m.A,{breadCrumbItems:[{label:"Notification",path:"/admin/notification",active:!0}],title:"Notification Management"}),(0,b.jsx)(t.A,{children:(0,b.jsx)(n.A,{xs:12,children:(0,b.jsxs)(d.A,{className:"border-0 shadow-lg animate-fade-in hover-lift",style:{borderRadius:"15px"},children:[(0,b.jsx)(d.A.Header,{className:"bg-gradient border-0 gradient-animate",style:{borderRadius:"15px 15px 0 0"},children:(0,b.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,b.jsxs)("div",{className:"d-flex align-items-center",children:[(0,b.jsx)("div",{className:"bg-white bg-opacity-20 rounded-circle p-3 me-3",children:(0,b.jsx)("i",{className:"mdi mdi-bell text-muted",style:{fontSize:"1.5rem"}})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-muted mb-1 fw-bold",children:"Notification Management"}),(0,b.jsx)("p",{className:"text-muted-50 mb-0",children:"Manage system notifications and alerts"})]})]}),(0,b.jsx)("div",{className:"bg-white bg-opacity-20 rounded-pill px-4 py-2",children:(0,b.jsxs)("span",{className:"text-muted fw-semibold",children:[(0,b.jsx)("i",{className:"mdi mdi-message-alert me-2"}),j||0," Notifications"]})})]})}),(0,b.jsxs)(d.A.Body,{className:"py-0",children:[(0,b.jsx)("div",{className:"d-flex justify-content-end align-items-center mb-4",children:(0,b.jsxs)(c.A,{className:"px-4 py-2 fw-semibold btn-animated hover-glow",style:{backgroundColor:"#006AAB",borderColor:"#006AAB",borderRadius:"25px",boxShadow:"0 4px 15px rgba(0, 106, 171, 0.3)"},onClick:()=>z("Add"),children:[(0,b.jsx)("i",{className:"mdi mdi-plus-circle me-2"}),"Create Notification"]})}),g?(0,b.jsx)(u.Rh,{}):v.length>0?(0,b.jsx)("div",{className:"table-responsive",children:(0,b.jsxs)(o.A,{className:"mb-0 modern-table",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"border-0 py-3 text-muted fw-semibold",children:"#"}),(0,b.jsx)("th",{className:"border-0 py-3 text-muted fw-semibold",children:"Message"}),(0,b.jsx)("th",{className:"border-0 py-3 text-muted fw-semibold",children:"Type"}),(0,b.jsx)("th",{className:"border-0 py-3 text-muted fw-semibold",children:"Status"}),(0,b.jsx)("th",{className:"border-0 py-3 text-muted fw-semibold text-center",children:"Actions"})]})}),(0,b.jsx)("tbody",{children:v.map((e,s)=>{var a;return(0,b.jsxs)("tr",{className:"stagger-item",children:[(0,b.jsx)("td",{className:"py-3 align-middle",children:(0,b.jsx)("span",{className:"badge bg-light text-dark rounded-pill",children:(C-1)*w+s+1})}),(0,b.jsxs)("td",{className:"py-3 align-middle",children:[(0,b.jsx)("div",{className:"text-dark",style:{maxWidth:"400px"},children:(0,b.jsx)("span",{dangerouslySetInnerHTML:{__html:(null===e||void 0===e?void 0:e.message)||"No message"}})}),(0,b.jsxs)("small",{className:"text-muted",children:["ID: ",(null===e||void 0===e||null===(a=e._id)||void 0===a?void 0:a.slice(-6))||"N/A"]})]}),(0,b.jsx)("td",{className:"py-3 align-middle",children:(0,b.jsxs)("span",{className:"badge bg-info text-muted px-3 py-2 text-capitalize",style:{borderRadius:"20px"},children:[(0,b.jsx)("i",{className:"mdi mdi-tag me-1"}),(null===e||void 0===e?void 0:e.type)||"General"]})}),(0,b.jsx)("td",{className:"py-3 align-middle",children:(0,b.jsxs)("span",{className:"modern-badge ".concat(null!==e&&void 0!==e&&e.status?"status-active":"status-inactive"),children:[(0,b.jsx)("i",{className:"mdi ".concat(null!==e&&void 0!==e&&e.status?"mdi-check-circle":"mdi-pause-circle"," me-1")}),null!==e&&void 0!==e&&e.status?"Active":"Inactive"]})}),(0,b.jsx)("td",{className:"py-3 align-middle text-center",children:(0,b.jsx)("div",{className:"action-btn-group",children:(0,b.jsx)("button",{className:"action-btn edit-btn",onClick:()=>z("Edit",e),title:"Edit Notification",children:(0,b.jsx)("i",{className:"mdi mdi-pencil"})})})})]},e._id||s)})})]})}):(0,b.jsxs)("div",{className:"text-center py-5",children:[(0,b.jsx)("div",{className:"mb-4",children:(0,b.jsx)("i",{className:"mdi mdi-bell-outline text-muted",style:{fontSize:"4rem"}})}),(0,b.jsx)("h5",{className:"text-muted mb-3",children:"No Notifications Found"}),(0,b.jsx)("p",{className:"text-muted mb-4",children:"Create notifications to keep users informed"}),(0,b.jsxs)(c.A,{className:"px-4 py-2",style:{backgroundColor:"#006AAB",borderColor:"#006AAB",borderRadius:"25px"},onClick:()=>z("Add"),children:[(0,b.jsx)("i",{className:"mdi mdi-plus-circle me-2"}),"Create First Notification"]})]}),j>20&&(0,b.jsx)(h.A,{pageIndex:C,pageSize:w,totalPages:I,setPageIndex:k,onChangePageSize:S})]})]})})}),(0,b.jsx)(f,{setApiCall:()=>M(e=>!e),show:E.isVisible,hide:()=>_((0,i.A)((0,i.A)({},E),{},{isVisible:!1})),notificationData:E}),(0,b.jsx)(A.A,{onClick:()=>z("Add"),icon:"mdi-bell-plus",tooltip:"Create Notification"})]})}}}]);
//# sourceMappingURL=64.17c5e448.chunk.js.map