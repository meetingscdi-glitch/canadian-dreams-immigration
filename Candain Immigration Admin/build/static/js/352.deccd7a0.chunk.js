"use strict";(self.webpackChunkhyper_react=self.webpackChunkhyper_react||[]).push([[352],{2352:(e,s,a)=>{a.r(s),a.d(s,{default:()=>v});var t=a(5043),l=a(1072),i=a(8602),n=a(8258),d=a(4282),c=a(4196),m=a(4556),r=a(5009),o=a(4342),x=a(4476),h=a(9379),u=a(6798),p=a(6522),g=a(1449),b=a(579);const j=e=>{var s;let{show:a,hide:l,teamsData:i}=e;const n=(0,m.wA)(),{teamsDataReducer:c}=(0,m.d4)(e=>e),[r,o]=(0,t.useState)({name:"",designation:"",image:null,status:!0}),[x,j]=(0,t.useState)(null),[N,v]=(0,t.useState)(null),[A,y]=(0,t.useState)({});(0,t.useEffect)(()=>{"Edit"===i.type&&i.data?(o({name:i.data.name||"",designation:i.data.designation||"",image:null,status:void 0===i.data.status||i.data.status}),j(i.data.image||null)):(o({name:"",designation:"",image:null,status:!0}),j(null)),v(null),y({})},[i]);const f=e=>{const{name:s,value:a,type:t,checked:l,files:i}=e.target;if("file"===t&&i[0]){const e=i[0];o(a=>(0,h.A)((0,h.A)({},a),{},{[s]:e}));const a=new FileReader;a.onload=e=>{v(e.target.result)},a.readAsDataURL(e)}else o(e=>(0,h.A)((0,h.A)({},e),{},{[s]:"checkbox"===t?l:a}));A[s]&&y(e=>(0,h.A)((0,h.A)({},e),{},{[s]:""}))},w=()=>{switch(i.type){case"Add":return"Add Team Member";case"Edit":return"Edit Team Member";case"Delete":return"Delete Team Member";default:return"Team Member"}};return(0,b.jsx)(u.A,{show:a,onHide:l,size:"Delete"===i.type?"sm":"lg",centered:!0,className:"modal-animate",children:"Delete"===i.type?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(u.A.Header,{closeButton:!0,children:(0,b.jsx)(u.A.Title,{children:w()})}),(0,b.jsxs)(u.A.Body,{className:"text-center py-3",children:[(0,b.jsx)("i",{className:"mdi mdi-delete-outline text-danger mb-2",style:{fontSize:"2.5rem"}}),(0,b.jsx)("h6",{className:"mb-2",children:"Delete Team Member"}),(0,b.jsxs)("p",{className:"mb-1",children:["Delete ",(0,b.jsx)("strong",{children:null===(s=i.data)||void 0===s?void 0:s.name}),"?"]}),(0,b.jsx)("small",{className:"text-muted",children:"This cannot be undone."})]}),(0,b.jsxs)(u.A.Footer,{className:"py-2",children:[(0,b.jsxs)(d.A,{variant:"secondary",size:"sm",className:"btn-cancel",onClick:l,children:[(0,b.jsx)("i",{className:"mdi mdi-close"}),"Cancel"]}),(0,b.jsx)(d.A,{variant:"danger",size:"sm",onClick:()=>{n((0,g.He)(i.data._id)),l()},children:"Delete"})]})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(u.A.Header,{className:"px-2 py-1 text-light",style:{backgroundColor:"#006AAB"},children:(0,b.jsx)(u.A.Title,{children:w()})}),(0,b.jsx)(u.A.Body,{children:(0,b.jsx)("div",{className:"bg-white p-4 rounded shadow-sm animate-slide-left",children:(0,b.jsxs)(p.A,{children:[(0,b.jsxs)(p.A.Group,{className:"mb-4",children:[(0,b.jsxs)(p.A.Label,{className:"fw-semibold mb-2",children:[(0,b.jsx)("i",{className:"mdi mdi-account me-2 text-primary"}),"Name ",(0,b.jsx)("span",{className:"text-danger",children:"*"})]}),(0,b.jsx)(p.A.Control,{type:"text",name:"name",value:r.name,onChange:f,isInvalid:!!A.name,placeholder:"Enter full name (minimum 2 characters)...",className:"form-control-lg",style:{borderRadius:"8px"},minLength:2}),(0,b.jsx)(p.A.Control.Feedback,{type:"invalid",children:A.name})]}),(0,b.jsxs)(p.A.Group,{className:"mb-4",children:[(0,b.jsxs)(p.A.Label,{className:"fw-semibold mb-2",children:[(0,b.jsx)("i",{className:"mdi mdi-briefcase me-2 text-primary"}),"Designation ",(0,b.jsx)("span",{className:"text-danger",children:"*"})]}),(0,b.jsx)(p.A.Control,{type:"text",name:"designation",value:r.designation,onChange:f,isInvalid:!!A.designation,placeholder:"e.g., Immigration Consultant (minimum 3 characters)",className:"form-control-lg",style:{borderRadius:"8px"},minLength:3}),(0,b.jsx)(p.A.Control.Feedback,{type:"invalid",children:A.designation})]}),(0,b.jsxs)(p.A.Group,{className:"mb-4",children:[(0,b.jsxs)(p.A.Label,{className:"fw-semibold mb-2",children:[(0,b.jsx)("i",{className:"mdi mdi-image me-2 text-primary"}),"Profile Image"]}),(x||N)&&(0,b.jsxs)("div",{className:"mb-3 p-3 bg-light rounded border",children:[(0,b.jsx)("small",{className:"text-muted d-block mb-2",children:"Image Preview:"}),(0,b.jsxs)("div",{className:"d-flex gap-3 flex-wrap",children:[x&&"Edit"===i.type&&(0,b.jsxs)("div",{className:"position-relative",children:[(0,b.jsx)("img",{src:x,alt:"Current profile",className:"img-thumbnail shadow-sm",style:{width:"150px",height:"150px",objectFit:"cover",borderRadius:"8px"}}),(0,b.jsx)(d.A,{variant:"danger",size:"sm",className:"position-absolute top-0 end-0 rounded-circle shadow",style:{width:"24px",height:"24px",padding:"0",transform:"translate(8px, -8px)"},onClick:()=>j(null),children:(0,b.jsx)("i",{className:"mdi mdi-close",style:{fontSize:"12px"}})}),(0,b.jsx)("small",{className:"d-block text-center mt-1 text-muted",children:"Current"})]}),N&&(0,b.jsxs)("div",{className:"position-relative",children:[(0,b.jsx)("img",{src:N,alt:"Selected preview",className:"img-thumbnail shadow-sm",style:{width:"150px",height:"150px",objectFit:"cover",borderRadius:"8px"}}),(0,b.jsx)(d.A,{variant:"danger",size:"sm",className:"position-absolute top-0 end-0 rounded-circle shadow",style:{width:"24px",height:"24px",padding:"0",transform:"translate(8px, -8px)"},onClick:()=>{v(null),o(e=>(0,h.A)((0,h.A)({},e),{},{image:null}))},children:(0,b.jsx)("i",{className:"mdi mdi-close",style:{fontSize:"12px"}})}),(0,b.jsx)("small",{className:"d-block text-center mt-1 text-success",children:"New"})]})]})]}),(0,b.jsx)(p.A.Control,{type:"file",name:"image",onChange:f,accept:"image/*",className:"form-control-lg",style:{borderRadius:"8px"}}),(0,b.jsxs)(p.A.Text,{className:"text-muted mt-2",children:[(0,b.jsx)("i",{className:"mdi mdi-information me-1"}),"Recommended: JPG, PNG files. Max size: 5MB"]})]})]})})}),(0,b.jsxs)(u.A.Footer,{className:"px-2 py-1",children:[(0,b.jsxs)(d.A,{variant:"danger",className:"btn-cancel",onClick:l,children:[(0,b.jsx)("i",{className:"mdi mdi-close"}),"Cancel"]}),(0,b.jsxs)(d.A,{className:"btn-animated hover-glow",style:{backgroundColor:"#006AAB"},onClick:e=>{e.preventDefault();const s=(()=>{const e={};return(!r.name.trim()||r.name.length<2)&&(e.name="Name must be at least 2 characters long"),(!r.designation.trim()||r.designation.length<3)&&(e.designation="Designation must be at least 3 characters long"),e})();if(Object.keys(s).length>0)return void y(s);const a={name:r.name,designation:r.designation};r.image&&(a.image=r.image),"Edit"===i.type&&(a._id=i.data._id),"Add"===i.type?n((0,g.Pl)(a)):"Edit"===i.type&&n((0,g.Vs)(i.data._id,a)),l()},children:[(0,b.jsx)("i",{className:"mdi ".concat("Add"===i.type?"mdi-plus":"mdi-content-save"," me-1")}),"Add"===i.type?"Add Team Member":"Update Team Member"]})]})]})})};var N=a(6537);const v=()=>{var e,s,a;const h=(0,m.wA)(),{teamsDataReducer:u}=(0,m.d4)(e=>e),p=(null===u||void 0===u||null===(e=u.teamsData)||void 0===e?void 0:e.response)||[],v=(null===u||void 0===u||null===(s=u.teamsData)||void 0===s||null===(a=s.response)||void 0===a?void 0:a.length)||0,A=null===u||void 0===u?void 0:u.loading,[y,f]=(0,t.useState)(""),[w,C]=(0,t.useState)(1),[k,S]=(0,t.useState)(20),[D,M]=(0,t.useState)(1),[T,z]=(0,t.useState)({type:"",data:null,isVisible:!1});(0,t.useEffect)(()=>{M(Math.ceil(v/k))},[v,k]),(0,t.useEffect)(()=>{h((0,g.I2)({search:y,limit:k,page:w}))},[h,y,w,k]);const I=function(e){z({type:e,data:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,isVisible:!0})};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(r.A,{breadCrumbItems:[{label:"Teams",path:"/admin/teams",active:!0}],title:"Teams Management - Canadian Dream Immigration"}),(0,b.jsx)(l.A,{children:(0,b.jsx)(i.A,{xs:12,children:(0,b.jsxs)(n.A,{className:"border-0 shadow-lg animate-fade-in hover-lift",style:{borderRadius:"15px"},children:[(0,b.jsx)(n.A.Header,{className:"bg-gradient border-0 gradient-animate",style:{borderRadius:"15px 15px 0 0"},children:(0,b.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,b.jsxs)("div",{className:"d-flex align-items-center",children:[(0,b.jsx)("div",{className:"bg-white bg-opacity-20 rounded-circle p-3 me-3",children:(0,b.jsx)("i",{className:"mdi mdi-account-group text-muted",style:{fontSize:"1.5rem"}})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-muted mb-1 fw-bold",children:"Team Management"}),(0,b.jsx)("p",{className:"text-muted-50 mb-0",children:"Manage team members and staff"})]})]}),(0,b.jsx)("div",{className:"bg-white bg-opacity-20 rounded-pill px-4 py-2",children:(0,b.jsxs)("span",{className:"text-muted fw-semibold",children:[(0,b.jsx)("i",{className:"mdi mdi-account-multiple me-2"}),v||0," Team Members"]})})]})}),(0,b.jsxs)(n.A.Body,{className:"py-0",children:[(0,b.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,b.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[(0,b.jsxs)("div",{className:"position-relative",children:[(0,b.jsx)("input",{type:"text",className:"form-control ps-5",placeholder:"Search team members by name or position...",value:y,onChange:e=>f(e.target.value),style:{borderRadius:"25px",width:"300px",border:"2px solid #e9ecef"}}),(0,b.jsx)("i",{className:"mdi mdi-magnify position-absolute",style:{left:"15px",top:"50%",transform:"translateY(-50%)",color:"#6c757d"}})]}),y&&(0,b.jsx)(d.A,{variant:"outline-secondary",size:"sm",className:"rounded-circle",onClick:()=>f(""),style:{width:"35px",height:"35px"},children:(0,b.jsx)("i",{className:"mdi mdi-close"})})]}),(0,b.jsxs)(d.A,{className:"px-4 py-2 fw-semibold btn-animated hover-glow",style:{backgroundColor:"#006AAB",borderColor:"#006AAB",borderRadius:"25px",boxShadow:"0 4px 15px rgba(0, 106, 171, 0.3)"},onClick:()=>I("Add"),children:[(0,b.jsx)("i",{className:"mdi mdi-plus-circle me-2"}),"Add Team Member"]})]}),A?(0,b.jsx)(o.Rh,{}):p.length>0?(0,b.jsx)("div",{className:"table-responsive",children:(0,b.jsxs)(c.A,{className:"mb-0 modern-table",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"border-0 py-3 text-muted fw-semibold",children:"#"}),(0,b.jsx)("th",{className:"border-0 py-3 text-muted fw-semibold",children:"Photo"}),(0,b.jsx)("th",{className:"border-0 py-3 text-muted fw-semibold",children:"Name"}),(0,b.jsx)("th",{className:"border-0 py-3 text-muted fw-semibold",children:"Designation"}),(0,b.jsx)("th",{className:"border-0 py-3 text-muted fw-semibold",children:"Created Date"}),(0,b.jsx)("th",{className:"border-0 py-3 text-muted fw-semibold",children:"Status"}),(0,b.jsx)("th",{className:"border-0 py-3 text-muted fw-semibold text-center",children:"Actions"})]})}),(0,b.jsx)("tbody",{children:p.map((e,s)=>{var a;return(0,b.jsxs)("tr",{className:"stagger-item",children:[(0,b.jsx)("td",{className:"py-3 align-middle",children:(0,b.jsx)("span",{className:"badge bg-light text-dark rounded-pill",children:(w-1)*k+s+1})}),(0,b.jsx)("td",{className:"align-middle",children:(0,b.jsx)("img",{src:(null===e||void 0===e?void 0:e.image)||"/default-avatar.png",alt:null===e||void 0===e?void 0:e.name,className:"modern-avatar"})}),(0,b.jsxs)("td",{className:"py-3 align-middle",children:[(0,b.jsx)("div",{className:"fw-bold text-dark mb-1",children:(null===e||void 0===e?void 0:e.name)||"No name"}),(0,b.jsxs)("small",{className:"text-muted",children:["ID: ",(null===e||void 0===e||null===(a=e._id)||void 0===a?void 0:a.slice(-6))||"N/A"]})]}),(0,b.jsx)("td",{className:"py-3 align-middle",children:(0,b.jsxs)("span",{className:"badge bg-info text-white px-3 py-2",style:{borderRadius:"20px"},children:[(0,b.jsx)("i",{className:"mdi mdi-briefcase me-1"}),(null===e||void 0===e?void 0:e.designation)||"No designation"]})}),(0,b.jsx)("td",{className:"py-3 align-middle",children:(0,b.jsx)("div",{className:"text-muted",style:{fontSize:"0.9rem"},children:new Date(null===e||void 0===e?void 0:e.createdAt).toLocaleDateString()||"N/A"})}),(0,b.jsx)("td",{className:"align-middle",children:(0,b.jsxs)("span",{className:"modern-badge ".concat(null!==e&&void 0!==e&&e.status?"status-active":"status-inactive"),children:[(0,b.jsx)("i",{className:"mdi ".concat(null!==e&&void 0!==e&&e.status?"mdi-check-circle":"mdi-pause-circle"," me-1")}),null!==e&&void 0!==e&&e.status?"Active":"Inactive"]})}),(0,b.jsx)("td",{className:"align-middle text-center",children:(0,b.jsxs)("div",{className:"action-btn-group",children:[(0,b.jsx)("button",{className:"action-btn edit-btn",onClick:()=>I("Edit",e),title:"Edit Team Member",children:(0,b.jsx)("i",{className:"mdi mdi-pencil"})}),(0,b.jsx)("button",{className:"action-btn delete-btn",onClick:()=>I("Delete",e),title:"Delete Team Member",children:(0,b.jsx)("i",{className:"mdi mdi-delete"})})]})})]},e._id||s)})})]})}):(0,b.jsxs)("div",{className:"text-center py-5",children:[(0,b.jsx)("div",{className:"mb-4",children:(0,b.jsx)("i",{className:"mdi mdi-account-group-outline text-muted",style:{fontSize:"4rem"}})}),(0,b.jsx)("h5",{className:"text-muted mb-3",children:"No Team Members Found"}),(0,b.jsx)("p",{className:"text-muted mb-4",children:"Start building your team by adding members"}),(0,b.jsxs)(d.A,{className:"px-4 py-2",style:{backgroundColor:"#006AAB",borderColor:"#006AAB",borderRadius:"25px"},onClick:()=>I("Add"),children:[(0,b.jsx)("i",{className:"mdi mdi-plus-circle me-2"}),"Add First Team Member"]})]}),v>20&&(0,b.jsx)(x.A,{pageIndex:w,pageSize:k,totalPages:D,setPageIndex:C,onChangePageSize:S})]})]})})}),T.isVisible&&(0,b.jsx)(j,{show:T.isVisible,hide:()=>{z({type:"",data:null,isVisible:!1}),setTimeout(()=>{h((0,g.I2)({search:y,limit:k,page:w}))},500)},teamsData:T}),(0,b.jsx)(N.A,{onClick:()=>I("Add"),icon:"mdi-account-plus",tooltip:"Add Team Member"})]})}},4476:(e,s,a)=>{a.d(s,{A:()=>n});var t=a(5043),l=a(5475),i=a(579);const n=e=>{let{pageIndex:s,pageSize:a,totalPages:n,setPageIndex:d,onChangePageSize:c}=e;return(0,t.useEffect)(()=>{s>n&&d(Math.max(1,n))},[s,n,d]),(0,i.jsxs)("div",{className:"d-lg-flex align-items-center text-center pb-1 pt-2",children:[(0,i.jsxs)("div",{className:"d-inline-block me-3",children:[(0,i.jsx)("label",{className:"me-1",children:"Display :"}),(0,i.jsx)("select",{value:a,onChange:e=>{const s=Number(e.target.value);c(s),d(1)},className:"form-select d-inline-block w-auto",children:[10,20,50,100].map(e=>(0,i.jsx)("option",{value:e,children:e},e))})]}),(0,i.jsxs)("span",{className:"me-3",children:["Page"," ",(0,i.jsxs)("strong",{children:[s," of ",n]})]}),(0,i.jsx)("label",{children:"Go to page: "}),(0,i.jsx)("input",{type:"number",placeholder:"".concat(s),min:"1",max:n,onChange:e=>{const s=Number(e.target.value);s>=1&&s<=n&&d(s)},className:"form-control ms-1 d-inline-block",style:{width:"80px"}}),(0,i.jsxs)("ul",{className:"pagination pagination-rounded d-inline-flex ms-auto align-item-center mb-0 pe-4",children:[s>1&&(0,i.jsx)("li",{className:"page-item",onClick:()=>d(s-1),children:(0,i.jsx)(l.N_,{to:"#",className:"page-link",children:"Previous"})}),Array.from({length:n}).map((e,a)=>{const t=a+1,c=t===s;return n<=5||t>=s-1&&t<=s+1||(1===t||t===n)?(0,i.jsx)("li",{className:"page-item ".concat(c?"active":""),onClick:()=>d(t),children:(0,i.jsx)(l.N_,{to:"#",className:"page-link",children:t})},t):2===t&&s>=5||t===n-1&&s<=n-4?(0,i.jsx)("li",{className:"page-item disabled",children:(0,i.jsx)(l.N_,{to:"#",className:"page-link px-0",children:"..."})},t):null}),s<n&&(0,i.jsx)("li",{className:"page-item",onClick:()=>d(s+1),children:(0,i.jsx)(l.N_,{to:"#",className:"page-link",children:"Next"})})]})]})}},5009:(e,s,a)=>{a.d(s,{A:()=>d});a(5043);var t=a(9397),l=a(8602),i=a(1072),n=a(579);const d=e=>(0,n.jsx)(i.A,{children:(0,n.jsx)(l.A,{children:(0,n.jsxs)("div",{className:"page-title-box",children:[(0,n.jsx)("div",{className:"page-title-right",children:(0,n.jsx)(t.A,{listProps:{className:"m-0"},children:e.breadCrumbItems.map((e,s)=>e.active?(0,n.jsx)(t.A.Item,{active:!0,children:(0,n.jsx)("span",{className:"custom-color",children:e.label})},s):(0,n.jsx)(t.A.Item,{href:e.path,children:(0,n.jsx)("span",{className:"custom-color",children:e.label})},s))})}),(0,n.jsx)("h4",{className:"page-title custom-color",children:e.title})]})})})},6537:(e,s,a)=>{a.d(s,{A:()=>c});var t=a(5043),l=a(4282),i=a(9869),n=a(615),d=a(579);const c=e=>{let{onClick:s,icon:a="mdi-plus",tooltip:c="Add New"}=e;const[m,r]=(0,t.useState)(!1);return(0,d.jsx)(i.A,{placement:"left",overlay:(0,d.jsx)(n.A,{children:c}),children:(0,d.jsx)(l.A,{className:"fab animate-bounce",onClick:s,onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),style:{position:"fixed",bottom:"20px",right:"20px",width:"56px",height:"56px",borderRadius:"50%",border:"none",zIndex:1e3,transform:m?"scale(1.1)":"scale(1)",transition:"all 0.3s ease"},children:(0,d.jsx)("i",{className:"mdi ".concat(a," ").concat(m?"icon-spin":""),style:{fontSize:"1.5rem"}})})})}}}]);
//# sourceMappingURL=352.deccd7a0.chunk.js.map